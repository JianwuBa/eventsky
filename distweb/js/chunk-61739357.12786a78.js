(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61739357"],{"2a8c":function(e,t,o){},"2da0":function(e,t,o){},"2e01":function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("img",{attrs:{src:o("5420"),alt:""}}),a("span",[e._v("注册信息")])])}],r={},s=r,l=(o("50e7"),o("2877")),i=Object(l["a"])(s,a,n,!1,null,"e3b9aef0",null);t["a"]=i.exports},"3a2d":function(e,t,o){"use strict";o.d(t,"j",(function(){return l})),o.d(t,"h",(function(){return i})),o.d(t,"i",(function(){return c})),o.d(t,"m",(function(){return u})),o.d(t,"k",(function(){return f})),o.d(t,"l",(function(){return m})),o.d(t,"a",(function(){return d})),o.d(t,"n",(function(){return p})),o.d(t,"e",(function(){return h})),o.d(t,"g",(function(){return b})),o.d(t,"d",(function(){return g})),o.d(t,"f",(function(){return v})),o.d(t,"b",(function(){return F})),o.d(t,"c",(function(){return C}));o("99af");var a=o("751a"),n=o("4328"),r=o.n(n),s="/api/user-service";function l(e,t){return a["a"].post("".concat(s,"/account/login_c?email=").concat(e,"&type=2&typeCode=").concat(t))}function i(e,t){return a["a"].post("".concat(s,"/account/login_c?email=").concat(e,"&type=1&typeCode=").concat(t))}function c(e){return a["a"].post("".concat(s,"/auth/send?target=").concat(e,"&type=EMAIL_LOGIN"))}function u(e){return a["a"].post("".concat(s,"/auth/send?target=").concat(e,"&type=EMAIL_SIGNUP"))}function f(e,t){return a["a"].post("".concat(s,"/auth/check?type=EMAIL_SIGNUP&target=").concat(e,"&authCode=").concat(t))}function m(e){return a["a"].post("".concat(s,"/account/signup_c"),r.a.stringify(e))}function d(){return a["a"].get("".concat(s,"/account/info"))}function p(e){return a["a"].post("".concat(s,"/account/update_info"),r.a.stringify(e))}function h(e){return a["a"].post("".concat(s,"/auth/send?target=").concat(e,"&type=EMAIL_VALID"))}function b(e){return a["a"].post("".concat(s,"/auth/send?target=").concat(e,"&type=PHONE_VALID"))}function g(e,t){return a["a"].post("".concat(s,"/account/update_email?authCode=").concat(e,"&email=").concat(t))}function v(e,t){return a["a"].post("".concat(s,"/account/update_phone?authCode=").concat(e,"&email=").concat(t))}function F(){return a["a"].get("".concat(s,"/company/info"))}function C(e){return a["a"].post("".concat(s,"/company/update_info"),r.a.stringify(e))}},4412:function(e,t,o){"use strict";o("2a8c")},"50e7":function(e,t,o){"use strict";o("2da0")},5420:function(e,t,o){e.exports=o.p+"img/register-info.509861c7.png"},"8cc5":function(e,t,o){"use strict";o("ba28")},"9db4":function(e,t,o){"use strict";o("aa9a")},aa9a:function(e,t,o){},b0c0:function(e,t,o){var a=o("83ab"),n=o("9bf2").f,r=Function.prototype,s=r.toString,l=/^\s*function ([^ (]*)/,i="name";a&&!(i in r)&&n(r,i,{configurable:!0,get:function(){try{return s.call(this).match(l)[1]}catch(e){return""}}})},ba28:function(e,t,o){},c484:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("el-container",[o("el-header",{staticClass:"account-header"},[o("Head")],1),o("el-container",{staticClass:"aside"},[o("Aside"),o("el-container",[o("el-main",[o("InfoTit"),o("div",{staticClass:"title"},[o("el-tabs",{on:{"tab-click":e.LoginType},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{key:"info",attrs:{label:"基本信息",name:"info"}},[o("Info")],1),o("el-tab-pane",{key:"changePass",attrs:{label:"修改密码",name:"changePass"}},[o("ChangePass")],1)],1)],1)],1),o("el-footer")],1)],1)],1)],1)},n=[],r=(o("b0c0"),o("94c5")),s=o("dfaa"),l=o("2e01"),i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("el-form",[o("el-form-item",{attrs:{label:"邮箱地址"}},[o("el-input",{attrs:{disabled:e.edit,value:e.accountInfo.email}}),o("p",{staticClass:"change",on:{click:function(t){e.dialogEmailVisible=!0}}},[e._v("去修改")])],1),o("el-form-item",{attrs:{label:"手机号"}},[o("el-input",{attrs:{disabled:e.edit,value:e.accountInfo.phone}}),o("p",{staticClass:"change",on:{click:function(t){e.dialogTelVisible=!0}}},[e._v("去修改")])],1)],1),o("p",{staticClass:"line"}),o("p",{staticClass:"tit"},[e._v("基本信息")]),o("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"姓名",prop:"fullName"}},[o("el-input",{attrs:{value:e.accountInfo.fullName},model:{value:e.ruleForm.fullName,callback:function(t){e.$set(e.ruleForm,"fullName",t)},expression:"ruleForm.fullName"}})],1),o("el-form-item",{attrs:{label:"职位",prop:"position"}},[o("el-input",{attrs:{value:e.accountInfo.position},model:{value:e.ruleForm.position,callback:function(t){e.$set(e.ruleForm,"position",t)},expression:"ruleForm.position"}})],1),o("el-form-item",{attrs:{label:"公司",prop:"company"}},[o("el-input",{attrs:{value:e.accountInfo.company},model:{value:e.ruleForm.company,callback:function(t){e.$set(e.ruleForm,"company",t)},expression:"ruleForm.company "}})],1),o("el-button",{staticClass:"saveInfo",attrs:{type:"success"},on:{click:function(t){return e.saveInfo("ruleForm")}}},[e._v("保存")])],1),o("el-dialog",{attrs:{title:"修改邮箱",visible:e.dialogEmailVisible,width:"600px"},on:{"update:visible":function(t){e.dialogEmailVisible=t}}},[o("div",{staticClass:"form-container"},[o("el-form",{attrs:{model:e.form}},[o("el-form-item",{attrs:{label:"","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入邮箱号"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),o("el-form-item",{staticClass:"email-code",attrs:{label:"","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入6位验证码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),o("el-button",{staticClass:"send-code",attrs:{plain:""},on:{click:e.getEmailCode}},[e._v("发送验证码")])],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.errorMessage?o("el-alert",{attrs:{title:e.errorMessageText,type:"error",center:"",closable:!1,"show-icon":""}}):e._e(),o("el-button",{staticClass:"test-code",on:{click:e.testNewEmail}},[e._v("验证")])],1)],1)]),o("el-dialog",{attrs:{title:"验证手机号",visible:e.dialogTelVisible,width:"600px"},on:{"update:visible":function(t){e.dialogTelVisible=t}}},[o("div",{staticClass:"form-container"},[o("el-form",{attrs:{model:e.phonrForm}},[o("el-form-item",{attrs:{label:"","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入手机号"},model:{value:e.phonrForm.tel,callback:function(t){e.$set(e.phonrForm,"tel",t)},expression:"phonrForm.tel"}})],1),o("el-form-item",{staticClass:"email-code",attrs:{label:"","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入6位验证码"},model:{value:e.phonrForm.code,callback:function(t){e.$set(e.phonrForm,"code",t)},expression:"phonrForm.code"}}),o("el-button",{staticClass:"send-code",attrs:{plain:""},on:{click:e.getTelCode}},[e._v("发送验证码")])],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.errorMessage?o("el-alert",{attrs:{title:e.errorMessageText,type:"error",center:"",closable:!1,"show-icon":""}}):e._e(),o("el-button",{staticClass:"test-code",on:{click:e.testNewTel}},[e._v("验证")])],1)],1)])],1)},c=[],u=o("3a2d"),f={data:function(){return{form:{email:"",code:""},phonrForm:{tel:"",code:""},formLabelWidth:"auto",dialogEmailVisible:!1,dialogTelVisible:!1,edit:!0,ruleForm:{fullName:"",position:"",company:""},accountInfo:{},rules:{fullName:[{required:!0,message:"请输入活动名称",trigger:"blur"}],position:[{required:!0,message:"请输入活动名称",trigger:"blur"}],company:[{required:!0,message:"请输入活动名称",trigger:"blur"}]},labelPosition:"top",errorMessage:!1,errorMessageText:""}},methods:{changeInfo:function(){var e={company:this.ruleForm.company,fullName:this.ruleForm.fullName,position:this.ruleForm.position};return e},saveInfo:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(u["n"])(t.changeInfo()).then((function(e){console.log(e)}))}))},getInfo:function(){var e=this;Object(u["a"])().then((function(t){console.log(t),1==t.data.rspCode&&(e.accountInfo=t.data.data,e.ruleForm.fullName=t.data.data.fullName,e.ruleForm.position=t.data.data.position,e.ruleForm.company=t.data.data.company)}))},getEmailCode:function(){Object(u["e"])(this.form.email).then((function(e){console.log(e)}))},getTelCode:function(){Object(u["g"])(this.phonrForm.tel).then((function(e){console.log(e)}))},testNewEmail:function(){var e=this;Object(u["d"])(this.form.code,this.form.email).then((function(t){console.log(t),1==t.data.rspCode?(e.errorMessage=!1,e.dialogFormVisible=!1,e.accountInfo.email=e.form.email):400006==t.data.rspCode?(e.errorMessage=!0,e.errorMessageText="验证码错误"):0==t.data.rspCode&&(e.errorMessage=!0,e.errorMessageText="请求失败")}))},testNewTel:function(){var e=this;Object(u["f"])(this.phonrForm.code,this.phonrForm.tel).then((function(t){1==t.data.rspCode?(e.errorMessage=!1,e.dialogFormVisible=!1,e.accountInfo.phone=e.phonrForm.tel):400006==t.data.rspCode?(e.errorMessage=!0,e.errorMessageText="验证码错误"):0==t.data.rspCode&&(e.errorMessage=!0,e.errorMessageText="请求失败")}))}},created:function(){this.getInfo()}},m=f,d=(o("9db4"),o("2877")),p=Object(d["a"])(m,i,c,!1,null,"0740959c",null),h=p.exports,b=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"原密码",prop:"oldPass"}},[o("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.oldPass,callback:function(t){e.$set(e.ruleForm,"oldPass",t)},expression:"ruleForm.oldPass"}})],1),o("el-form-item",{attrs:{label:"新密码",prop:"pass"}},[o("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),o("el-form-item",{attrs:{label:"重复新密码",prop:"checkPass"}},[o("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),o("el-form-item",[o("el-button",{staticClass:"saveInfo",attrs:{type:"success"},on:{click:function(t){return e.savePassword("ruleForm")}}},[e._v("保存")])],1)],1)],1)},g=[],v={data:function(){var e=this,t=function(t,o,a){""===o?a(new Error("请输入新密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),a())},o=function(t,o,a){""===o?a(new Error("请再次输入新密码")):o!==e.ruleForm.pass?a(new Error("两次输入密码不一致!")):a()};return{ruleForm:{oldPass:"",pass:"",checkPass:""},rules:{pass:[{validator:t,trigger:"blur"}],checkPass:[{validator:o,trigger:"blur"}]}}},methods:{savePassword:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$http.post("user-service/account/update_passwd?newPasswd="+t.ruleForm.pass+"&oldPasswd="+t.ruleForm.oldPass).then((function(e){console.log(e),1==e.data.rspCode&&alert("修改成功")}))}))}}},F=v,C=(o("8cc5"),Object(d["a"])(F,b,g,!1,null,"f792fd70",null)),y=C.exports,_={data:function(){return{activeName:"info",isInfo:!0,isChangePass:!0}},components:{Head:r["a"],Aside:s["a"],InfoTit:l["a"],Info:h,ChangePass:y},methods:{LoginType:function(e){"info"==e.name?(this.isInfo=!0,this.isChangePass=!1):"changePass"==e.name&&(this.isInfo=!1,this.isChangePass=!0)}},created:function(){this.webId=this.$route.query.webId}},k=_,I=(o("4412"),Object(d["a"])(k,a,n,!1,null,"e192fd12",null));t["default"]=I.exports}}]);
//# sourceMappingURL=chunk-61739357.12786a78.js.map
{"version":3,"sources":["webpack:///./src/views/companySetup/index.vue?0105","webpack:///./src/api/userService.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/core-js/modules/es.array.slice.js","webpack:///./src/views/companySetup/index.vue?276f","webpack:///src/views/companySetup/index.vue","webpack:///./src/views/companySetup/index.vue?6e92","webpack:///./src/views/companySetup/index.vue"],"names":["resquest","postPasLogin","name","pass","http","post","postCodeLogin","email","code","postEmailCode","postRegisterCode","postRegisterAccount","postRegisterAccountInfo","params","qs","stringify","getAccountInfo","get","saveChangeInfo","postChangeEmailCode","postChangePhoneCode","phone","postChangeEmail","postChangePhone","getComponyInfo","postCcompanyChange","requireObjectCoercible","quot","module","exports","string","tag","attribute","value","S","String","p1","replace","$","createHTML","forcedStringHTMLMethod","target","proto","forced","link","url","this","fails","METHOD_NAME","test","toLowerCase","split","length","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","SPECIES","nativeSlice","slice","max","Math","start","end","Constructor","result","n","O","k","fin","undefined","constructor","Array","prototype","call","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_e","attrs","componyForm","logoUrl","_s","componyName","ref","upload","handleFileSuccess","handleFileFail","filePostList","updateImg","rules","model","callback","$$v","$set","expression","introduce","slot","codeUrl","on","$event","submitComponyInfo","staticRenderFns","component"],"mappings":"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","file":"js/chunk-54cfadf6.34197e28.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5689e916&lang=less&scoped=true&\"","import http from '../utils/http'\nimport qs from 'qs'\n// \n/**\n *  @parms resquest 请求地址 例如：http://197.82.15.15:8088/request/...\n *  @param '/testIp'代表vue-cil中config，index.js中配置的代理\n */\nlet resquest = \"/api/user-service\"\n\n// 账号密码登陆\nexport function postPasLogin(name, pass) {\n    return http.post(`${resquest}/account/login_c?email=${name}&type=2&typeCode=${pass}`)\n}\n//验证码登陆\nexport function postCodeLogin(email, code) {\n    return http.post(`${resquest}/account/login_c?email=${email}&type=1&typeCode=${code}`)\n}\n//登陆获取邮箱验证码\nexport function postEmailCode(email) {\n    return http.post(`${resquest}/auth/send?target=${email}&type=EMAIL_LOGIN`)\n}\n//注册获取验证码\nexport function postRegisterCode(email) {\n    return http.post(`${resquest}/auth/send?target=${email}&type=EMAIL_SIGNUP`)\n}\n\n//注册账号\nexport function postRegisterAccount(email, code) {\n    return http.post(`${resquest}/auth/check?type=EMAIL_SIGNUP&target=${email}&authCode=${code}`)\n}\n//注册账号--基本信息\nexport function postRegisterAccountInfo(params) {\n    return http.post(`${resquest}/account/signup_c`, qs.stringify(params))\n}\n//获取当前用户基本信息\nexport function getAccountInfo() {\n    return http.get(`${resquest}/account/info`)\n}\n//修改账户基本信息\nexport function saveChangeInfo(params) {\n    return http.post(`${resquest}/account/update_info`, qs.stringify(params))\n}\n//修改基本信息 ----邮箱 获取验证吗\nexport function postChangeEmailCode(email) {\n    return http.post(`${resquest}/auth/send?target=${email}&type=EMAIL_VALID`)\n}\n\n//修改基本信息 ----手机 获取验证吗\nexport function postChangePhoneCode(phone) {\n    return http.post(`${resquest}/auth/send?target=${phone}&type=PHONE_VALID`)\n}\n//修改基本信息 ----验证邮箱 \nexport function postChangeEmail(code, email) {\n    return http.post(`${resquest}/account/update_email?authCode=${code}&email=${email}`)\n}\n//修改基本信息 ----验证手机\nexport function postChangePhone(code, phone) {\n    return http.post(`${resquest}/account/update_phone?authCode=${code}&email=${phone}`)\n}\n\n//获取公司设置 信息\nexport function getComponyInfo() {\n    return http.get(`${resquest}/company/info`)\n}\n\n//提交公司 修改信息\nexport function postCcompanyChange(params) {\n    return http.post(`${resquest}/company/update_info`, qs.stringify(params))\n}","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.es/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-container',[_c('el-header',{staticClass:\"account-header\"},[_c('Head')],1),_c('el-container',{staticClass:\"aside\"},[_c('Aside'),_c('el-container',[_c('el-main',[_c('div',{staticClass:\"main-container\"},[_c('h1',{staticClass:\"tit\"},[_vm._v(\"公司信息设置\")]),_c('div',{staticClass:\"compony-setup\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"logo\"},[(_vm.defaultLogo)?_c('i',{staticClass:\"el-icon-office-building default-logo\"}):_vm._e(),_c('img',{attrs:{\"src\":_vm.componyForm.logoUrl,\"alt\":\"\"}})]),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.componyForm.componyName))]),_c('el-upload',{ref:\"upload\",attrs:{\"name\":\"eskFile\",\"action\":_vm.upload.url,\"on-success\":_vm.handleFileSuccess,\"on-error\":_vm.handleFileFail,\"file-list\":_vm.filePostList,\"on-change\":_vm.updateImg,\"drag\":\"\"}},[_c('p',{staticClass:\"name\"},[_vm._v(\"上传公司 logo\")])])],1),_c('div',{staticClass:\"right\"},[_c('el-form',{ref:\"componyForm\",attrs:{\"model\":_vm.componyForm,\"rules\":_vm.rules,\"hide-required-asterisk\":true}},[_c('el-form-item',{attrs:{\"label\":\"公司名称\",\"prop\":\"componyName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入公司名称\",\"value\":_vm.componyForm.componyName},model:{value:(_vm.componyForm.componyName),callback:function ($$v) {_vm.$set(_vm.componyForm, \"componyName\", $$v)},expression:\"componyForm.componyName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"一句话简要介绍\",\"prop\":\"introduce\"}},[_c('el-input',{attrs:{\"placeholder\":\"一句话简要介绍\",\"value\":_vm.componyForm.introduce},model:{value:(_vm.componyForm.introduce),callback:function ($$v) {_vm.$set(_vm.componyForm, \"introduce\", $$v)},expression:\"componyForm.introduce\"}})],1),_c('el-form-item',{attrs:{\"label\":\"公司域名\",\"prop\":\"link\"}},[_c('el-input',{attrs:{\"placeholder\":\"填写公司专属域名（支持数字和英文字母的组合，3到20个字符）\",\"value\":_vm.componyForm.link},model:{value:(_vm.componyForm.link),callback:function ($$v) {_vm.$set(_vm.componyForm, \"link\", $$v)},expression:\"componyForm.link\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"https://\")]),_c('template',{slot:\"append\"},[_vm._v(\".eventsky.cn\")])],2)],1),_c('div',{staticClass:\"compony-code\"},[_c('p',{staticClass:\"tit\"},[_vm._v(\"公司二维码\")]),_c('img',{attrs:{\"src\":_vm.componyForm.codeUrl,\"alt\":\"\"}}),_c('el-button',{staticClass:\"save\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitComponyInfo('componyForm')}}},[_vm._v(\"确认\")])],1)],1)],1)])])]),_c('el-footer')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n        <el-container>\n            <el-header class=\"account-header\">\n                <Head></Head>\n            </el-header>\n            <el-container class=\"aside\">\n                <Aside></Aside>\n            <el-container>\n                <el-main >\n                    <div class=\"main-container\">\n                        <h1 class=\"tit\">公司信息设置</h1>\n                        <div class=\"compony-setup\">\n                            <div class=\"left\">\n                                <div class=\"logo\">\n                                    <i v-if=\"defaultLogo\" class=\"el-icon-office-building default-logo\" ></i>\n                                    <img :src=\"componyForm.logoUrl\" alt=\"\">\n                                </div>\n                                <p class=\"name\">{{componyForm.componyName}}</p>\n                                <el-upload  \n                                    name=\"eskFile\"\n                                    ref=\"upload\"\n                                    :action=\"upload.url\"\n                                    :on-success=\"handleFileSuccess\"\n                                    :on-error=\"handleFileFail\"\n                                    :file-list=\"filePostList\"\n                                    :on-change=\"updateImg\"\n                                    drag\n                                >\n                                <p class=\"name\">上传公司 logo</p>\n                                </el-upload>\n                            </div>\n                            <div class=\"right\">\n                                <el-form :model=\"componyForm\" :rules=\"rules\" ref=\"componyForm\" :hide-required-asterisk=\"true\">\n                                    <el-form-item label=\"公司名称\" prop=\"componyName\">\n                                        <el-input v-model.lazy=\"componyForm.componyName\" placeholder=\"请输入公司名称\" :value=\"componyForm.componyName\" ></el-input>\n                                    </el-form-item>\n                                    <el-form-item label=\"一句话简要介绍\" prop=\"introduce\">\n                                        <el-input v-model=\"componyForm.introduce\" placeholder=\"一句话简要介绍\" :value=\"componyForm.introduce\"></el-input>\n                                    </el-form-item>\n                                    <el-form-item label=\"公司域名\" prop=\"link\">\n                                        <el-input placeholder=\"填写公司专属域名（支持数字和英文字母的组合，3到20个字符）\" :value=\"componyForm.link\" v-model=\"componyForm.link\">\n                                            <template slot=\"prepend\">https://</template>\n                                            <template slot=\"append\">.eventsky.cn</template>\n                                        </el-input>\n                                    </el-form-item>\n                                     <div class=\"compony-code\">\n                                        <p class=\"tit\">公司二维码</p>\n                                        \n                                        <img :src=\"componyForm.codeUrl\" alt=\"\">\n                                        <el-button type=\"primary\" class=\"save\" @click=\"submitComponyInfo('componyForm')\">确认</el-button>\n                                    </div>\n                                </el-form>\n                            </div>\n\n                        </div>\n                       \n                    </div>\n                </el-main>\n                <el-footer></el-footer>\n            </el-container>\n        </el-container>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport Head from \"@/account/components/Head\"\nimport Aside from \"@/account/components/Aside\"\nimport {getComponyInfo,postCcompanyChange} from \"@/api/userService\"\nexport default {\n    components:{\n        Head,\n        Aside\n    },\n    data() {\n      return {\n        filePostList:[],\n        \n        componyForm:{\n            componyName:'',\n            introduce:'',\n            link:'',\n            codeUrl:'',\n            //logo图片显示的url\n            logoUrl:''\n        },\n        rules:{\n            componyName: [\n                { required: true, message: '请输入公司名称', trigger: 'blur' },\n            ],\n            introduce: [\n                { required: false, message: '一句话简要介绍', trigger: 'change'}\n            ],\n            link: [\n                { required: true, message: '填写公司专属域名（支持数字和英文字母的组合，3到20个字符）', trigger: 'change' }\n            ],\n        },\n        upload: {\n            url:'/file-service/upload'\n        },\n        \n        // 默认公司logo\n        defaultLogo:true,\n\n      };\n    },\n    created(){\n        this.getComponyInfo()\n    },\n    methods: {\n        componyChangeInfo(){\n            let obj = {\n                barcodeUrl:this.componyForm.codeUrl,\n                companyIntro:this.componyForm.introduce,\n                companyName:this.componyForm.componyName,\n                domain:this.componyForm.link,\n                logoUrl:this.componyForm.logoUrl\n            }\n            return obj\n        },\n        //公司信息提交\n        submitComponyInfo(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    postCcompanyChange(this.componyChangeInfo()).then(res => {\n                    // this.$http.post(\"/user-service/company/update_info?barcodeUrl=\"+this.componyForm.codeUrl+\"&companyIntro=\"+this.componyForm.introduce+\"&companyName=\"+this.componyForm.componyName+\"&domain=\"+this.componyForm.link+\"&logoUrl=\"+this.componyForm.logoUrl+\"\").then(res =>{\n                        console.log(res)\n                    })\n                } else {\n                    console.log('error submit!!');\n                    return false;\n                }\n            });\n        },\n        getComponyInfo(){\n            // this.$http.get(\"/user-service/company/info\").then(res => {\n                getComponyInfo().then(res => {\n                console.log(res)\n                if(res.data.rspCode == 1){\n                    this.componyForm.componyName =  res.data.data.companyName\n                    this.componyForm.introduce =  res.data.data.companyIntro\n                    this.componyForm.link =  res.data.data.domain\n                    this.componyForm.codeUrl = res.data.data.barcodeUrl\n                    this.componyForm.logoUrl = res.data.data.logoUrl\n                }\n            })\n        },\n        handleRemove(file) {\n            console.log(file);\n        },\n        handlePictureCardPreview(file) {\n            this.dialogImageUrl = file.url;\n            this.dialogVisible = true;\n        },\n        handleDownload(file) {\n            console.log(file);\n        },\n        //文件上传成功\n        handleFileSuccess(response, file, fileList){\n            console.log(response)\n            console.log(file)\n            console.log(fileList)\n            this.componyForm.logoUrl = response.filePath\n            this.defaultLogo = false\n        },\n        // 文件上传失败\n        handleFileFail(err, file, fileList){\n            console.log(err)\n            console.log(file)\n            console.log(fileList)\n            alert(\"上传失败\")\n        },\n        \n         updateImg(file, fileList) {\n            this.filePostList = fileList.slice(-1);\n        },\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n    .el-header {\n        background: #FFFFFF;\n        box-shadow: 0px 2px 4px 0px rgba(180, 180, 180, 0.26);\n        height: 60px;\n    }\n    .aside{\n        margin-top: 1px;\n    }\n    .el-aside {\n        color: #333;\n    }\n    .main-container{\n        width: 820px;\n        margin: 0 auto;\n    }\n    .el-main{\n        padding: 0;\n        padding-left: 190px;\n    }\n    .main-container{\n        padding: 30px;\n        .tit{\n            font-size: 20px;\n            color: #333;\n        }\n        .compony-setup{\n            display: flex;\n            padding-top: 50px;\n            justify-content: space-between;\n            .left{\n                width:140px;\n                .logo{\n                    width: 100%;\n                    height: 140px;\n                    border-radius: 50%;\n                    border: 1px solid #C9C9C9;\n                    margin: 0 auto;\n                    text-align: center;\n                    line-height: 140px;\n                    position: relative;\n                    overflow: hidden;\n                    margin-right: 62px;\n                    img{\n                        margin: auto;\n                        position: absolute;\n                        left: 0;\n                        right: 0;\n                        top: 0;\n                        bottom: 0;\n                        max-width: 100%;\n                        max-height: 100%;\n                    }\n                    .default-logo{\n                        font-size: 88px;\n                        margin-top: 26px;\n                        color: #C9C9C9;\n                    }\n                }\n                .name{\n                    font-size: 18px;\n                    color: #000;\n                    margin-top: 10px;\n                    text-align: center;\n                }\n                /deep/ .el-upload-dragger{\n                    width: 100%;\n                    height: auto;\n                    border: none;\n                    \n                    p{\n                        font-size: 14px;\n                        color: #027AFF;\n                        cursor: pointer;    \n                    }\n                }\n                /deep/ .el-upload{\n                    display: block;\n                }\n            }\n            .right{\n                width: 618px;\n                /deep/ .el-form-item{\n                    margin-bottom: 10px;\n                }\n            }\n        }\n        .compony-code{\n            text-align: center;\n            .tit{\n                font-size: 12px;\n                color: #4A4A4A;\n                margin-top: 30px;\n            }\n            img{\n                width: 140px;\n                height: 140px;\n                margin: 10px auto 50px;\n                display: block;\n            }\n            /deep/ .el-button{\n                background: #F5A623;\n                border-radius: 4px;\n                border: 1px solid #F5A623;\n                line-height: 30px;\n                padding: 0 46px;\n            }\n        }\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5689e916&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5689e916&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5689e916\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
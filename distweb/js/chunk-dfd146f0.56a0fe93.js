(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dfd146f0"],{"15ab":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t._v(" 版权所有 © 2021 活动星空 EventSky.net ")])},o=[],r={},s=r,c=(n("9f5c"),n("2877")),i=Object(c["a"])(s,a,o,!1,null,"dbb0ebee",null);e["a"]=i.exports},"2fab":function(t,e,n){"use strict";n("7768")},"3a2d":function(t,e,n){"use strict";n.d(e,"j",(function(){return c})),n.d(e,"h",(function(){return i})),n.d(e,"i",(function(){return u})),n.d(e,"m",(function(){return l})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"n",(function(){return m})),n.d(e,"e",(function(){return h})),n.d(e,"g",(function(){return g})),n.d(e,"d",(function(){return b})),n.d(e,"f",(function(){return v})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return C}));n("99af");var a=n("751a"),o=n("4328"),r=n.n(o),s="/api/user-service";function c(t,e){return a["a"].post("".concat(s,"/account/login_c?email=").concat(t,"&type=2&typeCode=").concat(e))}function i(t,e){return a["a"].post("".concat(s,"/account/login_c?email=").concat(t,"&type=1&typeCode=").concat(e))}function u(t){return a["a"].post("".concat(s,"/auth/send?target=").concat(t,"&type=EMAIL_LOGIN"))}function l(t){return a["a"].post("".concat(s,"/auth/send?target=").concat(t,"&type=EMAIL_SIGNUP"))}function f(t,e){return a["a"].post("".concat(s,"/auth/check?type=EMAIL_SIGNUP&target=").concat(t,"&authCode=").concat(e))}function d(t){return a["a"].post("".concat(s,"/account/signup_c"),r.a.stringify(t))}function p(){return a["a"].get("".concat(s,"/account/info"))}function m(t){return a["a"].post("".concat(s,"/account/update_info"),r.a.stringify(t))}function h(t){return a["a"].post("".concat(s,"/auth/send?target=").concat(t,"&type=EMAIL_VALID"))}function g(t){return a["a"].post("".concat(s,"/auth/send?target=").concat(t,"&type=PHONE_VALID"))}function b(t,e){return a["a"].post("".concat(s,"/account/update_email?authCode=").concat(t,"&email=").concat(e))}function v(t,e){return a["a"].post("".concat(s,"/account/update_phone?authCode=").concat(t,"&email=").concat(e))}function _(){return a["a"].get("".concat(s,"/company/info"))}function C(t){return a["a"].post("".concat(s,"/company/update_info"),r.a.stringify(t))}},"5dfa":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("div",{staticClass:"containers"},[t._m(0),n("div",{staticClass:"head-nav"},[n("span",[t._v(t._s(t.$t("INDEX_申请试用")))]),n("span",{on:{click:t.login}},[t._v("登陆")]),n("span",{on:{click:t.register}},[t._v("注册")]),n("span",{on:{click:t.langZh}},[t._v("中文")]),n("span",{on:{click:t.langEn}},[t._v(" English")])])])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:n("cf05"),alt:""}})])}],r={methods:{langZh:function(){this.$i18n.locale="zh",window.localStorage.setItem("lang",this.$i18n.locale)},langEn:function(){this.$i18n.locale="en",window.localStorage.setItem("lang",this.$i18n.locale)},login:function(){this.$router.push("/login")},register:function(){this.$router.push("/register")}}},s=r,c=(n("a2b0"),n("2877")),i=Object(c["a"])(s,a,o,!1,null,null,null);e["a"]=i.exports},7149:function(t,e,n){"use strict";n("b179")},"74b0":function(t,e,n){"use strict";n("bda3")},7768:function(t,e,n){},8366:function(t,e,n){},"9f5c":function(t,e,n){"use strict";n("f2da")},a2b0:function(t,e,n){"use strict";n("8366")},b0c0:function(t,e,n){var a=n("83ab"),o=n("9bf2").f,r=Function.prototype,s=r.toString,c=/^\s*function ([^ (]*)/,i="name";a&&!(i in r)&&o(r,i,{configurable:!0,get:function(){try{return s.call(this).match(c)[1]}catch(t){return""}}})},b179:function(t,e,n){},bda3:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.72d6e3fd.png"},dc3f:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("Head"),n("div",{staticClass:"login"},[n("el-tabs",{on:{"tab-click":t.LoginType},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{key:"code",attrs:{label:"验证码登录",name:"code"}},[t.isCode?n("CodeLogin"):t._e()],1),n("el-tab-pane",{key:"pass",attrs:{label:"账号密码登录",name:"pass"}},[t.isPass?n("PassLogin"):t._e()],1)],1),n("div",{staticClass:"text"},[n("span",{on:{click:t.forgetPass}},[t._v("忘记密码 ")]),n("span",[t._v("｜ ")]),n("span",{on:{click:t.register}},[t._v("新用户注册")])])],1),n("Footer")],1)},o=[],r=(n("b0c0"),n("5dfa")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{ref:"formName",attrs:{model:t.formName,rules:t.rules,"hide-required-asterisk":!0}},[n("el-form-item",{attrs:{label:"邮箱账号",prop:"email"}},[n("el-input",{attrs:{placeholder:"请输入邮箱账号"},model:{value:t.formName.email,callback:function(e){t.$set(t.formName,"email",e)},expression:"formName.email"}})],1),n("el-form-item",{attrs:{label:"验证码",prop:"authCode"}},[n("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:t.formName.authCode,callback:function(e){t.$set(t.formName,"authCode",e)},expression:"formName.authCode"}},[n("template",{slot:"append"},[n("el-button",{class:{btnDisabled:t.btnDisabled},attrs:{type:"primary",disabled:t.btnDisabled},on:{click:function(e){return t.registerCode()}}},[t._v("发送验证码")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v(t._s(t.count)+" ")])],1)],2)],1),n("el-button",{staticClass:"login",attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.authCodeLogin("formName")}}},[t._v("登录")]),t.errorMessage?n("el-alert",{attrs:{title:t.errorMessageText,type:"error",center:"",closable:!1,"show-icon":""}}):t._e()],1)],1)},c=[],i=n("3a2d"),u=n("a78e"),l=n.n(u),f={data:function(){return{btnDisabled:!1,show:!0,count:"",timer:null,formName:{email:"",authCode:""},rules:{email:[{required:!0,message:"请输入邮箱账号",trigger:"blur"}],authCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]},errorMessage:!1,errorMessageText:""}},methods:{registerCode:function(){var t=this;Object(i["i"])(this.formName.email).then((function(e){if(console.log(e),1==e.data.rspCode){var n=60;t.timer||(t.count=n,t.show=!1,t.timer=setInterval((function(){t.count>0&&t.count<=n?(t.count--,t.btnDisabled=!0):(t.show=!0,t.btnDisabled=!1,clearInterval(t.timer),t.timer=null)}),1e3))}}))},authCodeLogin:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;Object(i["h"])(e.formName.email,e.formName.authCode).then((function(t){if(console.log(t),1==t.data.rspCode){var n=t.data.data;l.a.set("skyToken",n),setTimeout((function(){e.$router.push({path:"account//info"})}),1e3)}else 400006==t.data.rspCode&&(e.errorMessage=!0,e.errorMessageText="验证码错误")}))}))}}},d=f,p=(n("2fab"),n("2877")),m=Object(p["a"])(d,s,c,!1,null,"c3d095ca",null),h=m.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("el-form",{ref:"account",attrs:{model:t.account,rules:t.rules,"hide-required-asterisk":!0}},[n("el-form-item",{attrs:{label:"邮箱账号",prop:"name"}},[n("el-input",{attrs:{placeholder:"邮箱账号"},model:{value:t.account.name,callback:function(e){t.$set(t.account,"name",e)},expression:"account.name"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"pass"}},[n("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.account.pass,callback:function(e){t.$set(t.account,"pass",e)},expression:"account.pass"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.Login("account")}}},[t._v("登录")])],1),t.errorMessage?n("el-alert",{attrs:{title:t.errorMessageText,type:"error",center:"",closable:!1,"show-icon":""}}):t._e()],1)],1)},b=[],v={data:function(){return{labelPosition:"top",account:{name:"",pass:""},rules:{name:[{required:!0,message:"请输入邮箱账号",trigger:"blur"}],pass:[{required:!0,message:"请输入密码",trigger:"blur"}]},errorMessage:!1,errorMessageText:""}},methods:{Login:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;Object(i["j"])(e.account.name,e.account.pass).then((function(t){if(console.log(t),1==t.data.rspCode){var n=t.data.data;l.a.set("skyToken",n),setTimeout((function(){e.$router.push({path:"/account/info"})}),100)}else 0==t.data.rspCode?(e.errorMessage=!0,e.errorMessageText="密码错误"):400002==t.data.rspCode&&(e.errorMessage=!0,e.errorMessageText="账号不存在")}))}))}}},_=v,C=(n("7149"),Object(p["a"])(_,g,b,!1,null,"09684e43",null)),y=C.exports,k=n("15ab"),N={components:{CodeLogin:h,PassLogin:y,Head:r["a"],Footer:k["a"]},data:function(){return{activeName:"code",isCode:!0,isPass:!0,labelPosition:"top"}},mounted:function(){},methods:{LoginType:function(t){"code"==t.name?(this.isCode=!0,this.isPass=!1):"pass"==t.name&&(this.isCode=!1,this.isPass=!0)},forgetPass:function(){this.$router.push({path:"/forget-pass"})},register:function(){this.$router.push({path:"/register"})}}},$=N,w=(n("74b0"),Object(p["a"])($,a,o,!1,null,"3bd7506a",null));e["default"]=w.exports},f2da:function(t,e,n){}}]);
//# sourceMappingURL=chunk-dfd146f0.56a0fe93.js.map
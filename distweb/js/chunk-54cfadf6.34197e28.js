(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54cfadf6"],{"314a":function(o,t,n){"use strict";n("7936")},"3a2d":function(o,t,n){"use strict";n.d(t,"j",(function(){return i})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return s})),n.d(t,"m",(function(){return u})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"n",(function(){return f})),n.d(t,"e",(function(){return y})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return C}));n("99af");var e=n("751a"),c=n("4328"),a=n.n(c),r="/api/user-service";function i(o,t){return e["a"].post("".concat(r,"/account/login_c?email=").concat(o,"&type=2&typeCode=").concat(t))}function l(o,t){return e["a"].post("".concat(r,"/account/login_c?email=").concat(o,"&type=1&typeCode=").concat(t))}function s(o){return e["a"].post("".concat(r,"/auth/send?target=").concat(o,"&type=EMAIL_LOGIN"))}function u(o){return e["a"].post("".concat(r,"/auth/send?target=").concat(o,"&type=EMAIL_SIGNUP"))}function m(o,t){return e["a"].post("".concat(r,"/auth/check?type=EMAIL_SIGNUP&target=").concat(o,"&authCode=").concat(t))}function p(o){return e["a"].post("".concat(r,"/account/signup_c"),a.a.stringify(o))}function d(){return e["a"].get("".concat(r,"/account/info"))}function f(o){return e["a"].post("".concat(r,"/account/update_info"),a.a.stringify(o))}function y(o){return e["a"].post("".concat(r,"/auth/send?target=").concat(o,"&type=EMAIL_VALID"))}function g(o){return e["a"].post("".concat(r,"/auth/send?target=").concat(o,"&type=PHONE_VALID"))}function h(o,t){return e["a"].post("".concat(r,"/account/update_email?authCode=").concat(o,"&email=").concat(t))}function v(o,t){return e["a"].post("".concat(r,"/account/update_phone?authCode=").concat(o,"&email=").concat(t))}function F(){return e["a"].get("".concat(r,"/company/info"))}function C(o){return e["a"].post("".concat(r,"/company/update_info"),a.a.stringify(o))}},7936:function(o,t,n){},"857a":function(o,t,n){var e=n("1d80"),c=/"/g;o.exports=function(o,t,n,a){var r=String(e(o)),i="<"+t;return""!==n&&(i+=" "+n+'="'+String(a).replace(c,"&quot;")+'"'),i+">"+r+"</"+t+">"}},9911:function(o,t,n){"use strict";var e=n("23e7"),c=n("857a"),a=n("af03");e({target:"String",proto:!0,forced:a("link")},{link:function(o){return c(this,"a","href",o)}})},af03:function(o,t,n){var e=n("d039");o.exports=function(o){return e((function(){var t=""[o]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},fb6a:function(o,t,n){"use strict";var e=n("23e7"),c=n("861d"),a=n("e8b5"),r=n("23cb"),i=n("50c4"),l=n("fc6a"),s=n("8418"),u=n("b622"),m=n("1dde"),p=m("slice"),d=u("species"),f=[].slice,y=Math.max;e({target:"Array",proto:!0,forced:!p},{slice:function(o,t){var n,e,u,m=l(this),p=i(m.length),g=r(o,p),h=r(void 0===t?p:t,p);if(a(m)&&(n=m.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?c(n)&&(n=n[d],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return f.call(m,g,h);for(e=new(void 0===n?Array:n)(y(h-g,0)),u=0;g<h;g++,u++)g in m&&s(e,u,m[g]);return e.length=u,e}})},fe80:function(o,t,n){"use strict";n.r(t);var e=function(){var o=this,t=o.$createElement,n=o._self._c||t;return n("div",{staticClass:"container"},[n("el-container",[n("el-header",{staticClass:"account-header"},[n("Head")],1),n("el-container",{staticClass:"aside"},[n("Aside"),n("el-container",[n("el-main",[n("div",{staticClass:"main-container"},[n("h1",{staticClass:"tit"},[o._v("公司信息设置")]),n("div",{staticClass:"compony-setup"},[n("div",{staticClass:"left"},[n("div",{staticClass:"logo"},[o.defaultLogo?n("i",{staticClass:"el-icon-office-building default-logo"}):o._e(),n("img",{attrs:{src:o.componyForm.logoUrl,alt:""}})]),n("p",{staticClass:"name"},[o._v(o._s(o.componyForm.componyName))]),n("el-upload",{ref:"upload",attrs:{name:"eskFile",action:o.upload.url,"on-success":o.handleFileSuccess,"on-error":o.handleFileFail,"file-list":o.filePostList,"on-change":o.updateImg,drag:""}},[n("p",{staticClass:"name"},[o._v("上传公司 logo")])])],1),n("div",{staticClass:"right"},[n("el-form",{ref:"componyForm",attrs:{model:o.componyForm,rules:o.rules,"hide-required-asterisk":!0}},[n("el-form-item",{attrs:{label:"公司名称",prop:"componyName"}},[n("el-input",{attrs:{placeholder:"请输入公司名称",value:o.componyForm.componyName},model:{value:o.componyForm.componyName,callback:function(t){o.$set(o.componyForm,"componyName",t)},expression:"componyForm.componyName"}})],1),n("el-form-item",{attrs:{label:"一句话简要介绍",prop:"introduce"}},[n("el-input",{attrs:{placeholder:"一句话简要介绍",value:o.componyForm.introduce},model:{value:o.componyForm.introduce,callback:function(t){o.$set(o.componyForm,"introduce",t)},expression:"componyForm.introduce"}})],1),n("el-form-item",{attrs:{label:"公司域名",prop:"link"}},[n("el-input",{attrs:{placeholder:"填写公司专属域名（支持数字和英文字母的组合，3到20个字符）",value:o.componyForm.link},model:{value:o.componyForm.link,callback:function(t){o.$set(o.componyForm,"link",t)},expression:"componyForm.link"}},[n("template",{slot:"prepend"},[o._v("https://")]),n("template",{slot:"append"},[o._v(".eventsky.cn")])],2)],1),n("div",{staticClass:"compony-code"},[n("p",{staticClass:"tit"},[o._v("公司二维码")]),n("img",{attrs:{src:o.componyForm.codeUrl,alt:""}}),n("el-button",{staticClass:"save",attrs:{type:"primary"},on:{click:function(t){return o.submitComponyInfo("componyForm")}}},[o._v("确认")])],1)],1)],1)])])]),n("el-footer")],1)],1)],1)],1)},c=[],a=(n("9911"),n("fb6a"),n("94c5")),r=n("dfaa"),i=n("3a2d"),l={components:{Head:a["a"],Aside:r["a"]},data:function(){return{filePostList:[],componyForm:{componyName:"",introduce:"",link:"",codeUrl:"",logoUrl:""},rules:{componyName:[{required:!0,message:"请输入公司名称",trigger:"blur"}],introduce:[{required:!1,message:"一句话简要介绍",trigger:"change"}],link:[{required:!0,message:"填写公司专属域名（支持数字和英文字母的组合，3到20个字符）",trigger:"change"}]},upload:{url:"/file-service/upload"},defaultLogo:!0}},created:function(){this.getComponyInfo()},methods:{componyChangeInfo:function(){var o={barcodeUrl:this.componyForm.codeUrl,companyIntro:this.componyForm.introduce,companyName:this.componyForm.componyName,domain:this.componyForm.link,logoUrl:this.componyForm.logoUrl};return o},submitComponyInfo:function(o){var t=this;this.$refs[o].validate((function(o){if(!o)return console.log("error submit!!"),!1;Object(i["c"])(t.componyChangeInfo()).then((function(o){console.log(o)}))}))},getComponyInfo:function(){var o=this;Object(i["b"])().then((function(t){console.log(t),1==t.data.rspCode&&(o.componyForm.componyName=t.data.data.companyName,o.componyForm.introduce=t.data.data.companyIntro,o.componyForm.link=t.data.data.domain,o.componyForm.codeUrl=t.data.data.barcodeUrl,o.componyForm.logoUrl=t.data.data.logoUrl)}))},handleRemove:function(o){console.log(o)},handlePictureCardPreview:function(o){this.dialogImageUrl=o.url,this.dialogVisible=!0},handleDownload:function(o){console.log(o)},handleFileSuccess:function(o,t,n){console.log(o),console.log(t),console.log(n),this.componyForm.logoUrl=o.filePath,this.defaultLogo=!1},handleFileFail:function(o,t,n){console.log(o),console.log(t),console.log(n),alert("上传失败")},updateImg:function(o,t){this.filePostList=t.slice(-1)}}},s=l,u=(n("314a"),n("2877")),m=Object(u["a"])(s,e,c,!1,null,"5689e916",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-54cfadf6.34197e28.js.map